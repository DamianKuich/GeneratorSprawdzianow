(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1519:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=(n(0),n(359),n(55)),l=n(94),i=n(47),c=n(551),s=(n(591),n(31)),u=n(438),m=n(443),p=n(921),f=n(131),d=n(72),g=(n(6),n(1508)),y=n(1509),E=n(1510),b=n(444),h=n(908),v=n.n(h),w=n(573),k=n.n(w),x=n(907),O=n.n(x);Object(u.a)((function(e){return{root:{minWidth:550,maxWidth:550,maxHeight:200,justifyContent:"center",alignItems:"center"},marginAutoItem:{margin:"auto"}}}));var S=n(1496),j=(n(86),n(521)),z=n(164),C=(n(614),n(1470)),P=n.n(C),I=n(559),N=n(1449),W=n(1451),T=n(1450),J=n(1447),_=n(67),D=n(141),R=n(757),A=n(1511),F=n(152),H=n(153),B=n(451),U=n(354),G=n(449),V=n(500),q=function(e){return r.a.createElement(p.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(V.a,{size:250,style:{color:"purple"}}))};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y(e);if(t){var r=Y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object(u.a)((function(e){return{root:{maxHeight:200,minWidth:575,maxWidth:575},marginAutoItem:{margin:"auto"}}}));var te=Object(u.a)((function(e){return{arrow:{color:e.palette.common.grey},tooltip:{backgroundColor:e.palette.grey}}}));function ne(e){var t=te();return r.a.createElement(S.a,ee({arrow:!0,classes:t},e))}var ae={paperContainer:{backgroundImage:"url(".concat(I.a,")"),minHeight:1e3},examCardContainer:{width:700,backgroundColor:"#FEFEFA"},cardTitle:{textAlign:"center"}},re=(Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(h,e);var t,n,a,u=L(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),$(X(t=u.call(this,e)),"updateExams",(function(){t.setState({exams:null}),o.b.get("/user/tests/").then((function(e){console.log("UE update response",e,"exams",e.data),t.setState({exams:e.data})})).catch((function(e){console.log("UE update error response",e)}))})),$(X(t),"addExam",(function(e){t.setState((function(t){return t.exams=[e].concat(t.exams),t}))})),$(X(t),"createExamCopy",(function(e){o.b.post("/user/maketest/",{name:e.name+"-kopia",tasks:e.tasks}).then((function(e){t.addExam(e.data[0])}))})),$(X(t),"removeExam",(function(e){o.b.post("/user/deletetest/",{id:e.id}).then((function(e){console.log("usunięto"),t.updateExams()}))})),t.state={exams:null,open:!1,generatedId:null,sections:null,ileotw:"",ilezamk:"",level:"",skills:"",groups:"",autoGenSkills:[]},t}return t=h,(n=[{key:"componentDidMount",value:function(){var e=this;this.updateExams(),o.b.get("/user/sections3/").then((function(t){var n=t.data.map((function(e){return e.skill=e.skilll,e}));e.setState({sections:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.state.exams),n=this.state.sections;return t&&n?r.a.createElement("div",null,r.a.createElement(m.a,{style:ae.paperContainer},r.a.createElement(l.a,{p:7},r.a.createElement(p.a,{alignItems:"center",justify:"center",container:!0,direction:"column"},r.a.createElement(g.a,{style:ae.examCardContainer,justify:"center",alignItems:"center"},r.a.createElement(y.a,{style:ae.cardTitle,title:"Dodaj sprawdzian"}),r.a.createElement(j.a,null,r.a.createElement(i.c,{initialValues:{name:""},validationSchema:c.b().shape({name:c.d().min(2,"Nazwa za krotka").max(50,"Nazwa za dluga").required("Pole wymagane")}),onSubmit:function(t,n){setTimeout((function(){n.setSubmitting(!0),o.b.post("/user/maketest/",{name:t.name,tasks:""}).then((function(t){console.log("UE create response",t),e.addExam(t.data[0]),n.setSubmitting(!1)})).catch((function(e){e.response,n.setSubmitting(!1),n.setValues({name:""},!1),n.setTouched({name:!1},!1),n.setFieldError("general","Nazwa w uzyciu")}))}),400)}},(function(e){var t=e.values,n=e.errors,a=e.touched,o=e.handleChange,l=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting;return r.a.createElement(i.b,{onSubmit:c},r.a.createElement("div",{className:"grey-text"},r.a.createElement(z.a,{labelText:"Nazwa sprawdzianu",id:"name",error:!!n.name,success:a.name&&!n.name,formControlProps:{fullWidth:!0},helperProps:{children:n.name,error:!0},inputProps:{type:"text",name:"name",onChange:o,onBlur:l,value:t.name}}),!!n.general&&r.a.createElement("div",{className:"invalid-feedback d-block pb-4"},n.general)),r.a.createElement(E.a,{style:{justifyContent:"center"}},r.a.createElement(d.a,{variant:"contained",color:"primary",size:"lg",type:"submit",disabled:s},"Zapisz")))})))))),r.a.createElement("p",null),t.map((function(t){return r.a.createElement(p.a,{alignItems:"center",justify:"center",container:!0,spacing:3,direction:"column"},r.a.createElement(g.a,{style:ae.examCardContainer,justify:"center"},r.a.createElement(y.a,{title:t.name}),r.a.createElement(E.a,{disableSpacing:!0},r.a.createElement(s.b,{to:"/editor/"+t.id},r.a.createElement(ne,{title:"Edytuj sprawdzian"},r.a.createElement(b.a,null,r.a.createElement(O.a,null)))),r.a.createElement(ne,{title:"Skopiuj sprawdzian"},r.a.createElement(b.a,{onClick:function(){e.createExamCopy(t)}},r.a.createElement(v.a,null))),r.a.createElement(ne,{title:"Usuń sprawdzian"},r.a.createElement(b.a,{onClick:function(){e.removeExam(t)}},r.a.createElement(k.a,null))),r.a.createElement(ne,{title:"Wygeneruj sprawdzian automatycznie xxx"},r.a.createElement(b.a,{onClick:function(){return e.setState({open:!e.state.open,generatedId:t.id})}},r.a.createElement(P.a,null))))),r.a.createElement("p",null))}))),r.a.createElement(N.a,{fullWidth:!0,titlestyle:{textAlign:"center"},open:this.state.open,onClose:function(){return e.setState({open:!e.state.open})}},r.a.createElement(J.a,{id:"form-dialog-title"},r.a.createElement(f.a,{variant:"h5",align:"center"},"Wygeneruj sprawdzian automatycznie")),r.a.createElement(T.a,null,r.a.createElement(l.a,{p:1},r.a.createElement(A.a,{fullWidth:!0,onChange:function(t){return e.setState({ileotw:t.target.value})},id:"ileotw",label:"Ile zadań otwartych"})),r.a.createElement(l.a,{p:1},r.a.createElement(A.a,{fullWidth:!0,onChange:function(t){return e.setState({ilezamk:t.target.value})},id:"ilezamk",label:"Ile zadań zamkniętych"})),r.a.createElement(l.a,{p:1},r.a.createElement(A.a,{fullWidth:!0,id:"level",select:!0,label:"Poziom trudności",value:this.state.level,onChange:function(t){return e.setState({level:t.target.value})},helperText:"Wybierz poziom trudności"},r.a.createElement(_.a,{key:"level1",value:"1"},"Podstawowy"),r.a.createElement(_.a,{key:"level2",value:"2"},"Rozszerzony"))),r.a.createElement(l.a,{p:1},r.a.createElement(A.a,{fullWidth:!0,onChange:function(t){return e.setState({groups:t.target.value})},id:"groups",label:"Ilość grup"})),r.a.createElement(l.a,{p:1},r.a.createElement(F.a,null,n.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(U.a,{primary:e.Section,secondary:"Dostępnych zadań: "+e.sectionTaskCount}),r.a.createElement(G.a,null,r.a.createElement(D.a,{edge:"start"}))),r.a.createElement(F.a,{component:"div",disablePadding:!0},e.skill.map((function(e){return r.a.createElement(H.a,{button:!0},r.a.createElement(B.a,null,r.a.createElement(D.a,{edge:"start"})),r.a.createElement(U.a,{primary:e.Skill,secondary:"Dostępnych zadań: "+e.taskCount}))}))))}))))),r.a.createElement(W.a,null,r.a.createElement(d.a,{color:"primary",onClick:function(){o.b.post("/user/getrandomtasks/",{ileotw:e.state.ileotw,ilezamk:e.state.ilezamk,level:e.state.level,skills:e.state.autoGenSkills.join(", "),groups:e.state.groups}).then((function(t){var n=JSON.stringify(Object(R.a)(t.data));o.b.put("/user/maketest/",{id:e.state.generatedId,tasks:n}).then((function(t){console.log(n),console.log(e.state.generatedId),e.props.history.push("/editor/".concat(e.state.generatedId))}))})).catch((function(e){console.log("chngpass error",e.response)}))}},"Generuj")))):r.a.createElement(q,null)}}])&&Z(t.prototype,n),a&&Z(t,a),h}(a.Component));re.propTypes={};t.default=re},519:function(e,t,n){"use strict";n.r(t);t.default={cardBody:{padding:"0.9375rem 1.875rem",flex:"1 1 auto"}}},521:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(1),r=n.n(a),o=n(3),l=n.n(o),i=n(0),c=n.n(i),s=n(438),u=n(519);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=Object(s.a)(u.default);function g(e){var t,n=d(),a=e.className,o=e.children,i=f(e,["className","children"]),c=l()((p(t={},n.cardBody,!0),p(t,a,void 0!==a),t));return r.a.createElement("div",m({className:c},i),o)}g.propTypes={className:c.a.string,children:c.a.node}},559:function(e,t,n){"use strict";t.a=n.p+"29a2f630b088eabfaa8f98afec0658ab.png"},591:function(e,t,n){"use strict";n(1)},614:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(910),l=n(909);function i(e){var t=e.notification;e.setNotification;return r.a.createElement(o.a,{open:t.isOpen,autoHideDuration:30},r.a.createElement(l.a,{severity:t.type},t.message))}},757:function(e,t,n){"use strict";var a=function(e){console.log("taskparser",e);var t=JSON.parse(JSON.stringify(e));return t.answers={},t.correctans=JSON.parse(t.correctans.replace(/'/g,'"')),t.wronganswers=JSON.parse(t.wronganswers.replace(/'/g,'"')),t.answers={correctans:t.correctans,wronganswers:t.wronganswers},t.currentAnswers={correctans:t.correctans,wronganswers:t.wronganswers,answersIndexes:[{index:1,isCorrect:!1},{index:0,isCorrect:!0},{index:2,isCorrect:!1},{index:0,isCorrect:!1}]},t.maxPoints=JSON.parse(t.points),console.log("taskparser nn",t),t};t.a=function(e){return e.map(a)}}}]);