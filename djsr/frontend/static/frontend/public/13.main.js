(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1486:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=(n(0),n(346)),i=n(53),c=n(493),u=n(46),l=n(554),s=(n(561),n(37)),f=n(474),m=n(425),p=(n(6),n(1478)),d=n(1479),y=n(1480),b=n(477),h=n(888),E=n.n(h),g=n(579),v=n.n(g),w=n(887),O=n.n(w);Object(f.a)((function(e){return{root:{minWidth:550,maxWidth:550,maxHeight:200,justifyContent:"center",alignItems:"center"},marginAutoItem:{margin:"auto"}}}));var x=n(1487),j=(n(83),n(517)),k=n(156),S=n(600);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object(f.a)((function(e){return{root:{maxHeight:200,minWidth:575,maxWidth:575},marginAutoItem:{margin:"auto"}}}));var B=Object(f.a)((function(e){return{arrow:{color:e.palette.common.grey},tooltip:{backgroundColor:e.palette.grey}}}));function I(e){var t=B();return r.a.createElement(x.a,W({arrow:!0,classes:t},e))}Object(f.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(g,e);var t,n,a,f,h=(t=g,function(){var e,n=R(t);if(_()){var a=R(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return C(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),D(T(t=h.call(this,e)),"updateExams",(function(){t.setState({exams:null}),i.b.get("/user/tests/").then((function(e){console.log("UE update response",e,"exams",e.data),t.setState({exams:e.data})})).catch((function(e){console.log("UE update error response",e)}))})),D(T(t),"addExam",(function(e){t.setState((function(t){return t.exams=[e].concat(t.exams),t}))})),D(T(t),"createExamCopy",(function(e){i.b.post("/user/maketest/",{name:e.name+"-kopia",tasks:e.tasks}).then((function(e){t.addExam(e.data[0])}))})),D(T(t),"setNotification",(function(){return{type:"error",isOpen:!0,message:"Nieprawidłowa nazwa użytkownika lub hasło"}})),D(T(t),"removeExam",(function(e){i.b.post("/user/deletetest/",{id:e.id}).then((function(e){console.log("usunięto"),t.updateExams()}))})),t.state={exams:null,notification:{isOpen:!1,message:"",type:""}},t}return n=g,(a=[{key:"componentDidMount",value:function(){this.updateExams()}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.state.exams);return t?r.a.createElement("div",null,r.a.createElement(S.a,{notification:this.state.notification,setNotification:this.setNotification}),r.a.createElement(c.a,{p:5,justifyContent:"left"},r.a.createElement(p.a,{justify:"center"},r.a.createElement(d.a,{title:"Dodaj sprawdzian"}),r.a.createElement(j.a,null,r.a.createElement(u.c,{initialValues:{name:""},validationSchema:l.a().shape({name:l.c().min(2,"Nazwa za krotka").max(50,"Nazwa za dluga").required("Pole wymagane")}),onSubmit:function(t,n){setTimeout((function(){n.setSubmitting(!0),i.b.post("/user/maketest/",{name:t.name,tasks:""}).then((function(t){console.log("UE create response",t),e.addExam(t.data[0]),n.setSubmitting(!1)})).catch((function(t){t.response,n.setSubmitting(!1),n.setValues({name:""},!1),n.setTouched({name:!1},!1),n.setFieldError("general","Nazwa w uzyciu"),e.setNotification}))}),400)}},(function(e){var t=e.values,n=e.errors,a=e.touched,o=e.handleChange,i=e.handleBlur,c=e.handleSubmit,l=e.isSubmitting;return r.a.createElement(u.b,{onSubmit:c},r.a.createElement("div",{className:"grey-text"},r.a.createElement(k.a,{labelText:"Nazwa sprawdzianu",id:"name",error:!!n.name,success:a.name&&!n.name,formControlProps:{fullWidth:!0},helperProps:{children:n.name,error:!0},inputProps:{type:"text",name:"name",onChange:o,onBlur:i,value:t.name}}),!!n.general&&r.a.createElement("div",{className:"invalid-feedback d-block pb-4"},n.general)),r.a.createElement("div",{className:"text-center"},r.a.createElement(m.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Zapisz")))}))))),t.map((function(t){return r.a.createElement(c.a,{justifyContent:"center",p:1},r.a.createElement(p.a,{justify:"center"},r.a.createElement(d.a,{title:t.name}),r.a.createElement(y.a,{disableSpacing:!0},r.a.createElement(s.b,{to:"/editor/"+t.id},r.a.createElement(I,{title:"Edytuj sprawdzian"},r.a.createElement(b.a,null,r.a.createElement(O.a,null)))),r.a.createElement(I,{title:"Skopiuj sprawdzian"},r.a.createElement(b.a,{onClick:function(){e.createExamCopy(t)}},r.a.createElement(E.a,null))),r.a.createElement(I,{title:"Usuń sprawdzian"},r.a.createElement(b.a,{onClick:function(){e.removeExam(t)}},r.a.createElement(v.a,null))))))}))):r.a.createElement(o.d,null,r.a.createElement("div",null,"Ladowanie"))}}])&&P(n.prototype,a),f&&P(n,f),g}(a.Component);U.propTypes={};t.default=U},510:function(e,t,n){"use strict";n.r(t);t.default={cardBody:{padding:"0.9375rem 1.875rem",flex:"1 1 auto"}}},517:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1),r=n.n(a),o=n(3),i=n.n(o),c=n(0),u=n.n(c),l=n(474),s=n(510);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=Object(l.a)(s.default);function y(e){var t,n=d(),a=e.className,o=e.children,c=p(e,["className","children"]),u=i()((m(t={},n.cardBody,!0),m(t,a,void 0!==a),t));return r.a.createElement("div",f({className:u},c),o)}y.propTypes={className:u.a.string,children:u.a.node}},561:function(e,t,n){"use strict";n(1)},600:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),o=n(890),i=n(889);function c(e){var t=e.notification;e.setNotification;return r.a.createElement(o.a,{open:t.isOpen,autoHideDuration:30},r.a.createElement(i.a,{severity:t.type},t.message))}}}]);