{"version":3,"sources":["webpack:///./djsr/frontend/src/components/MaterialUiPasswordReset.js","webpack:///./djsr/frontend/src/components/img/genspr-parralax-bg.png","webpack:///./node_modules/@material-ui/icons/Delete.js","webpack:///./node_modules/@material-ui/icons/Favorite.js"],"names":["useStyles","makeStyles","styles","MaterialUiPasswordReset","props","FRS","user","appState","React","useState","editView","setEditView","strongToken","useParams","token","console","log","cardAnimaton","setCardAnimation","setTimeout","classes","rest","pageHeader","backgroundImage","image","backgroundSize","backgroundPosition","container","password","passwordConfirm","Yup","shape","min","max","required","oneOf","values","helpers","setSubmitting","axiosInstanceNoAuth","post","then","response","setUser","data","setStatus","setState","locked","error","errResponse","setValues","setTouched","setFieldError","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","form","cardHeader","MaterialFormikField","fullWidth","endAdornment","inputIconsColor","cardFooter"],"mappings":"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","file":"11.main.js","sourcesContent":["import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n\r\nimport Email from \"@material-ui/icons/Email\";\r\nimport People from \"@material-ui/icons/People\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\n\r\nimport Header from \"./material_ui_components/Header/Header.js\";\r\nimport HeaderLinks from \"./material_ui_components/Header/HeaderLinks.js\";\r\nimport Footer from \"./material_ui_components/Footer/Footer.js\";\r\nimport GridContainer from \"./material_ui_components/Grid/GridContainer.js\";\r\nimport GridItem from \"./material_ui_components/Grid/GridItem.js\";\r\nimport Button from \"././material_ui_components/CustomButtons/Button.js\";\r\nimport Card from \"./material_ui_components/Card/Card.js\";\r\nimport CardBody from \"./material_ui_components/Card/CardBody.js\";\r\nimport CardHeader from \"./material_ui_components/Card/CardHeader.js\";\r\nimport CardFooter from \"./material_ui_components/Card/CardFooter.js\";\r\nimport CustomInput from \"./material_ui_components/CustomInput/CustomInput.js\";\r\nimport { useParams } from \"react-router\";\r\nimport styles from \"./assets/jss/material-kit-react/views/loginPage.js\";\r\n\r\nimport image from \"./img/genspr-parralax-bg.png\";\r\nimport * as Yup from \"yup\";\r\nimport axiosInstance, { axiosInstanceNoAuth } from \"./axiosAPI\";\r\nimport { Formik, Field } from \"formik\";\r\nimport MaterialFormikField from \"./MaterialFormikField\";\r\nimport { string } from \"prop-types\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst MaterialUiPasswordReset = (props) => {\r\n  const FRS = \"Pole wymagane\";\r\n  const user = props.appState.user;\r\n  const [editView, setEditView] = React.useState(\"password\");\r\n  const strongToken = useParams().token;\r\n  console.log(strongToken)\r\n\r\n  const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\r\n  setTimeout(function () {\r\n    setCardAnimation(\"\");\r\n  }, 700);\r\n  const classes = useStyles();\r\n  const { ...rest } = props;\r\n  return (\r\n    <div>\r\n      <div\r\n        className={classes.pageHeader}\r\n        style={{\r\n          backgroundImage: \"url(\" + image + \")\",\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"top center\",\r\n        }}\r\n      >\r\n        <div className={classes.container}>\r\n          <GridContainer justify=\"center\">\r\n            <GridItem xs={12} sm={12} md={4}>\r\n              <Card className={classes[cardAnimaton]}>\r\n\r\n{editView==\"password\" ? (\r\n        \r\n        <Formik\r\n        initialValues={{\r\n            password: \"\",\r\n            passwordConfirm: \"\",\r\n        }}\r\n        validationSchema={Yup.object().shape({\r\n            password: Yup.string()\r\n              .min(8, \"Too Short!\")\r\n              .max(50, \"Too Long!\")\r\n              .required(\"Pole wymagane\")\r\n              .oneOf(\r\n                [Yup.ref(\"passwordConfirm\")],\r\n                \"Hasła są różne\"\r\n              ),\r\n\r\n            passwordConfirm: Yup.string()\r\n              .oneOf([Yup.ref(\"password\")], \"Hasła są różne\")\r\n              .required(\"Pole wymagane\"),\r\n          })}\r\n          onSubmit={(values, helpers) => {\r\n            setTimeout(() => {\r\n              helpers.setSubmitting(true);\r\n              axiosInstanceNoAuth\r\n                .post(`/user/passreset/${strongToken}/$`, {\r\n                password: values.password,\r\n              })\r\n                .then((response) => {\r\n                  this.props.setUser(response.data);\r\n                  helpers.setStatus(\"Pomyslnie zmieniono hasło\");\r\n                  helpers.setSubmitting(false);\r\n                  this.setState({ locked: false });\r\n                })\r\n                .catch((error) => {\r\n                  helpers.setStatus(\"Podano nieprawidłowe aktualne hasło\")\r\n                  console.log(\"chngpass error\", error.response);\r\n                  const errResponse = error.response;\r\n                  helpers.setSubmitting(false);\r\n                  this.setState({ locked: false });\r\n                  helpers.setValues(\r\n                    {\r\n                      password: \"\",\r\n                      passwordConfirm:\"\"\r\n\r\n                    },\r\n                    false\r\n                  );\r\n                  helpers.setTouched(\r\n                    {\r\n                      password: false,\r\n\r\n                      passwordConfirm:false\r\n                    },\r\n                    false\r\n                  );\r\n                  helpers.setFieldError(\r\n                    \"oldPassword\",\r\n                    \"Podano nieprawidłowe stare hasło\"\r\n                  );\r\n\r\n                });\r\n            }, 400);\r\n          }}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          isSubmitting,\r\n        }) => (\r\n          <form className={classes.form}>\r\n            {console.log(touched, errors)}\r\n            <CardHeader\r\n              color=\"primary\"\r\n              className={classes.cardHeader}\r\n            >\r\n              <h4>Wprowadź nowe hasło</h4>\r\n              \r\n            </CardHeader>\r\n            <CardBody>\r\n            <Field\r\n                component={MaterialFormikField}\r\n                name={\"password\"}\r\n                formControlProps={{\r\n                  fullWidth: true,\r\n                }}\r\n                labelText=\"Hasło\"\r\n                inputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <People className={classes.inputIconsColor} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            <Field\r\n                component={MaterialFormikField}\r\n                name={\"passwordConfirm\"}\r\n                formControlProps={{\r\n                  fullWidth: true,\r\n                }}\r\n                labelText=\"Powtórz hasło\"\r\n                inputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <People className={classes.inputIconsColor} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />          \r\n            </CardBody>\r\n            <CardFooter className={classes.cardFooter}>\r\n              <Button\r\n                simple\r\n                color=\"primary\"\r\n                size=\"lg\"\r\n                onClick={() => {\r\n                  handleSubmit();\r\n                }}\r\n              >\r\n                Zmień hasło\r\n              </Button>\r\n            </CardFooter>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n \r\n        ) : (\r\n          <>\r\n          </>\r\n        )}\r\n                \r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MaterialUiPasswordReset;\r\n\r\n","export default __webpack_public_path__ + \"8ae80ee488d6ec36fd62f67865d06356.png\";","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\n}), 'Favorite');\n\nexports.default = _default;"],"sourceRoot":""}